<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Setting up Clojure and SCIMUtils as an absolute beginner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,700&family=Inter:wght@400;500;600;700;800&display=swap">
    <link rel="stylesheet" href="/assets/built/screen.css?v=212e76eb03">

    <link rel="icon" href="/favicon.png" type="image/png" />
    <link rel="canonical" href="https://ipcamit.github.io/setting-up-clojure-and-scimutils-as-an-absolute-beginner/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    
    <meta property="og:site_name" content="Poorly Written Notes" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Setting up Clojure and SCIMUtils as an absolute beginner" />
    <meta property="og:description" content="Clojure setupSo recently I was starting up on Clojure for SCIMUtils library, which is an excellent port of original scimutils written in MIT-Scheme. Clojure version provides overall better documentation and tooling experience than the Scheme version. However Clojure is bit more eccentric for my taste and I was having hard" />
    <meta property="og:url" content="https://ipcamit.github.io/setting-up-clojure-and-scimutils-as-an-absolute-beginner/" />
    <meta property="article:published_time" content="2022-08-22T15:34:29.000Z" />
    <meta property="article:modified_time" content="2022-08-22T15:34:29.000Z" />
    <meta property="article:publisher" content="https://www.facebook.com/ghost" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Setting up Clojure and SCIMUtils as an absolute beginner" />
    <meta name="twitter:description" content="Clojure setupSo recently I was starting up on Clojure for SCIMUtils library, which is an excellent port of original scimutils written in MIT-Scheme. Clojure version provides overall better documentation and tooling experience than the Scheme version. However Clojure is bit more eccentric for my taste and I was having hard" />
    <meta name="twitter:url" content="https://ipcamit.github.io/setting-up-clojure-and-scimutils-as-an-absolute-beginner/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Amit Gupta" />
    <meta name="twitter:site" content="@ghost" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Poorly Written Notes",
        "url": "https://ipcamit.github.io/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://ipcamit.github.io/content/images/2022/03/benzene-svgrepo-com.svg",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Amit Gupta",
        "url": "https://ipcamit.github.io/author/amit/",
        "sameAs": []
    },
    "headline": "Setting up Clojure and SCIMUtils as an absolute beginner",
    "url": "https://ipcamit.github.io/setting-up-clojure-and-scimutils-as-an-absolute-beginner/",
    "datePublished": "2022-08-22T15:34:29.000Z",
    "dateModified": "2022-08-22T15:34:29.000Z",
    "description": "Clojure setup\nSo recently I was starting up on Clojure for SCIMUtils library, which is an\nexcellent port of original scimutils written in MIT-Scheme. Clojure version\nprovides overall better documentation and tooling experience than the Scheme\nversion.\n\nHowever Clojure is bit more eccentric for my taste and I was having hard time\ngetting started. Shout out to user pmonks [https://github.com/pmonks] from the\nDiscord Clojure chatroom Discljord for being patient and helpful enough to guide\nme though",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://ipcamit.github.io/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.35" />
    <link rel="alternate" type="application/rss+xml" title="Poorly Written Notes" href="https://ipcamit.github.io/rss/" />
    
    <script defer src="/public/cards.min.js?v=212e76eb03"></script>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=212e76eb03">
    <!DOCTYPE html>
<!-- KaTeX requires the use of the HTML5 doctype. Without it, KaTeX may not render properly -->
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js" integrity="sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
  </head>
 
</html><style>:root {--ghost-accent-color: #3465a4;}</style>
</head>

<body class="post-template is-head-b--a_n">
    <div class="gh-site">
        <header id="gh-head" class="gh-head gh-outer">
            <div class="gh-head-inner gh-inner">
                <div class="gh-head-brand">
                    <a class="gh-head-logo" href="https://ipcamit.github.io">
                            <img src="https://ipcamit.github.io/content/images/2022/03/benzene-svgrepo-com.svg" alt="Poorly Written Notes">
                    </a>
                    <button class="gh-burger"></button>
                </div>

                <nav class="gh-head-menu">
                    <ul class="nav">
    <li class="nav-home"><a href="https://ipcamit.github.io/">Home</a></li>
    <li class="nav-me"><a href="https://ipcamit.github.io/me/">Me</a></li>
</ul>

                </nav>

<!--                <div class="gh-head-actions">
                        <a class="gh-head-btn" href="#/portal/signup" data-portal="signup">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.33332 3.33334H16.6667C17.5833 3.33334 18.3333 4.08334 18.3333 5.00001V15C18.3333 15.9167 17.5833 16.6667 16.6667 16.6667H3.33332C2.41666 16.6667 1.66666 15.9167 1.66666 15V5.00001C1.66666 4.08334 2.41666 3.33334 3.33332 3.33334Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.3333 5L9.99999 10.8333L1.66666 5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>                            Subscribe
                        </a>
                </div>
--!>
            </div>
        </header>

        

<main id="gh-main" class="gh-main">
    <article class="gh-article post no-image">
        <header class="gh-article-header gh-canvas">
                <span class="gh-article-meta">
                    By <a href="/author/amit/">Amit Gupta</a>
                    —
                    <time datetime="2022-08-22">Aug 22, 2022</time>
                </span>

            <h1 class="gh-article-title">Setting up Clojure and SCIMUtils as an absolute beginner</h1>


        </header>

        <div class="gh-content gh-canvas">
            <h2 id="clojure-setup">Clojure setup</h2><p>So recently I was starting up on Clojure for SCIMUtils library, which is an excellent port of original scimutils written in MIT-Scheme. Clojure version provides overall better documentation and tooling experience than the Scheme version.</p><p>However Clojure is bit more <em>eccentric</em> for my taste and I was having hard time getting started. Shout out to user <a href="https://github.com/pmonks"><strong>pmonks</strong></a> from the Discord Clojure chatroom <code>Discljord</code> for being patient and helpful enough to guide me though its first steps. Following is the conversation with him. Most of it is replicated verbatim, except few changes in structure, and editing where required. Plus it is really really hard to get help on MIT-Scheme</p><h3 id="bit-of-background">Bit of background</h3><p>So the first thing that’s a bit odd is that you would normally use either <code>lein</code> or <code>clj</code>, but rarely both together. They’re basically competing build tools / environments.<br>Sort of - it’s supposed to be a more modern take on a Clojure build tool, and is published by Cognitect (the creators of Clojure), so has more “cachet”.  Whether it’s “better” than Leiningen or not at this point is a matter of debate. <code>clj</code> just wraps Clojure in <code>rlwrap</code> - they are otherwise identical. So yes, for interactive REPLs, you’d usually want <code>clj</code>.</p><h3 id="structure-of-clojure-project">Structure of Clojure project</h3><p>Anyway, one of the first things to understand about package management / libraries in Clojure (which is actually a limitation of the JVM) is that hot-loading libraries is a bit fraught. There are hacky ways to partially do it, but I would not recommend them unless you’re already fairly familiar  with how the JVM loads code. So what we have to do instead is declare our dependencies up front, then start a REPL (and if the dependencies change, generally speaking the best bet is to quit and restart the REPL).</p><p>For clj &amp; clojure, dependencies are expressed in a file that (by default) is called <code>deps.edn</code>. To declare a dependency on SICMUtils, the contents of that file would be</p><pre><code>{:deps {sicmutils/sicmutils {:mvn/version "0.22.0"}}}
</code></pre><p>This is same as given on Clojars page clj column. Clojars “knows” about the clj/clojure tools, so they provide this as a handy copypasta.</p><p>Also the clj tool assumes source code is housed under a sub directory called <code>src</code>. So the directory structure should be:</p><pre><code>new_project/
|
+- deps.edn
|
+- src/
    |
    +- core.clj
</code></pre><p>Though if your namespace is new-project.core, that should actually be:</p><pre><code>new_project/
|
+- deps.edn
|
+- src/
    |
    +- new_project/
        |
        +- core.clj

</code></pre><p>The <code>core.clj</code> contains simple hello world program.</p><pre><code class="language-clojure">(ns new_project.core)

(defn hello
  []
  (println "Hello World"))
</code></pre><p>Once you have that file in an otherwise empty directory, if you start a clj / clojure REPL in that directory, you should see it download the library (first time only) then start a REPL where that library is available.</p><p>All downloaded packages are by default kept in a “per user” cache in ~/.m2.<br>That means that if you use the same dependency in multiple separate projects you’re not downloading the same libraries over and over again. This is standard practice across many/most JVM-hosted languages.<br>Clojure simply leverages the underlying JVM ecosystem.</p><h3 id="running-the-program">Running the Program</h3><p>To load code from a file you would normally require that file’s namespace, then use the vars it declares from your own namespace (user in the case of the REPL).<br>Now to load code from a file using require, there is a naming convention for that file’s name that you have to follow (since Clojure has a particular mapping from ns symbol to file-on-disk).</p><p>As an example, if your file declares a namespace called my.cool.namespace, the file would need to be called ./my/cool/namespace.clj (yes that’s a directory structure).</p><p>Oh and one JVM oddity to watch out for - if your namespace name includes hyphens anywhere (“-“), those would be replaced with an underscore (“_”) in the filename. This is another JVM oddity that Clojure has to workaround.</p><p>Once you have your core.clj named and located properly, to load and use it in the REPL, you’d just require the namespace e.g. in above case it will be</p><pre><code class="language-clojure">(require '[new_project.core as cr]).
</code></pre><p>vars in that namespace are then available via the <code>cr</code> prefix. e.g. <code>(cr/hello)</code></p><p>Oh and one nice thing that Clojure can do for Clojure code, is that if your file changes you can reload it without exiting the REPL. To do that:</p><pre><code class="language-clojure">(require '[new_project.core as cr] :reload-all)
</code></pre><p>So from inside your poject folder you should have final structure as:</p><pre><code>$ tree .
.
├── deps.edn
└── src
    └── new_project
        └── core.clj

2 directories, 2 files
</code></pre><p>And the <code>clj</code> commandline looks like:</p><pre><code>$ clj                               
Clojure 1.11.1
user=&gt; (require '[new_project.core :as cr])
nil
user=&gt; (cr/hello)
Hello World
nil
user=&gt; 
</code></pre><p>Thats it! Now you can head to <a href="https://cljdoc.org/d/sicmutils/sicmutils/0.22.0/doc/basics/how-to-use-sicmutils">SCIMutils docs</a> and start doing what the page tells you to.</p>
        </div>

            <footer class="gh-article-footer gh-canvas">
                <nav class="gh-navigation">
                    <div class="gh-navigation-previous">
                            <a class="gh-navigation-link" href="/automatic-differentiation/">
                                <span class="gh-navigation-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <line x1="19" y1="12" x2="5" y2="12"></line>
    <polyline points="12 19 5 12 12 5"></polyline>
</svg> Previous issue</span>
                                <h4 class="gh-navigation-title">Automatic Differentiation</h4>
                            </a>
                    </div>

                    <div class="gh-navigation-middle"></div>

                    <div class="gh-navigation-next">
                            <a class="gh-navigation-link" href="/kim-api-model-drivers-from-scratch-i-using-c/">
                                <span class="gh-navigation-label">Next issue <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <line x1="5" y1="12" x2="19" y2="12"></line>
    <polyline points="12 5 19 12 12 19"></polyline>
</svg></span>
                                <h4 class="gh-navigation-title">KIM-API Model Drivers from scratch I: using C++</h4>
                            </a>
                    </div>
                </nav>
            </footer>
    </article>
</main>



<!--        
            <div class="gh-subscribe">
                <div class="gh-outer">
                    <section class="gh-subscribe-inner">
                            <h3 class="gh-subscribe-title">Subscribe to Poorly Written Notes</h3>

                            <div class="gh-subscribe-description">Don’t miss out on the latest issues. Sign up now to get access to the library of members-only issues.</div>

                            <a class="gh-subscribe-input" href="#/portal/signup" data-portal="signup">
                                <div class="gh-subscribe-input-text">
                                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
    <path d="M3.33332 3.33334H16.6667C17.5833 3.33334 18.3333 4.08334 18.3333 5.00001V15C18.3333 15.9167 17.5833 16.6667 16.6667 16.6667H3.33332C2.41666 16.6667 1.66666 15.9167 1.66666 15V5.00001C1.66666 4.08334 2.41666 3.33334 3.33332 3.33334Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18.3333 5L9.99999 10.8333L1.66666 5" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>                                    jamie@example.com
                                </div>
                                <div class="gh-subscribe-input-btn">Subscribe</div>
                            </a>
                    </section>
                </div>
            </div>
	--!>
        <footer class="gh-foot gh-outer">
            <div class="gh-foot-inner gh-inner">
                <div class="gh-copyright">
                    Poorly Written Notes © 2025
                </div>

                <nav class="gh-foot-menu">
                    
                </nav>

                <div class="gh-powered-by">
                    <a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a>
                </div>
            </div>
        </footer>
    </div>

        <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
    <script src="/assets/built/main.min.js?v=212e76eb03"></script>

    
</body>

</html>
